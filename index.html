<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="naver-site-verification" content="58d9b61ef5c61696e081acedafff2878d07acf1e" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>404 Not Found - KIIKIII</title>
<link id="k-font" href="" rel="stylesheet">
<style>
  :root {
    --purple: #bc00ff;
    --pink: #ff007b;
    --blue: #0055ff;
    --cyan: #00f2ff;
  }

  body, html {
    margin: 0; padding: 0; width: 100%; height: 100%;
    background: white; color: black;
    font-family: 'Montserrat', 'Noto Sans KR', sans-serif;
    overflow: hidden; /* 스크롤바 제거 */
    transition: background 1.5s ease;
  }

  body.dark { background: #000; color: #fff; }

  #fx-layer {
    position: fixed; inset: 0; z-index: 1; pointer-events: none;
    display: none;
  }
  body.dark #fx-layer { display: block; }

  #wrapper {
    position: relative; z-index: 10;
    width: 100%; height: 100vh;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-align: center;
  }

  h1#status-title { 
    position: absolute; top: 10vh;
    font-size: 0.8rem; letter-spacing: 5px; opacity: 0.5; 
    margin: 0; text-transform: uppercase;
  }

  /* 가사 출력 전용 컨테이너 */
  #lyrics-display {
    min-height: 150px;
    display: flex; align-items: center; justify-content: center;
  }

  .line {
    position: relative;
    font-size: clamp(1.8rem, 8vw, 4.5rem);
    font-weight: 900; line-height: 1.1;
    padding: 10px 20px;
    background: rgba(0, 0, 0, 0.9);
    word-break: keep-all;
    /* 나타나는 애니메이션 */
    animation: entry-glitch 0.4s steps(2) forwards;
  }

  /* 글리치 및 색상 애니메이션 */
  @keyframes entry-glitch {
    0% { opacity: 0; transform: scale(0.9) translateY(10px); filter: blur(10px); }
    100% { opacity: 1; transform: scale(1) translateY(0); filter: blur(0); }
  }

  .active-glitch {
    animation: active-glitch 0.4s steps(2) infinite;
  }

  @keyframes active-glitch {
    0% { text-shadow: 3px 0 var(--cyan), -3px 0 var(--pink); transform: translate(1px, 1px); }
    50% { text-shadow: -3px 0 var(--cyan), 3px 0 var(--pink); transform: translate(-1px, -1px); }
    100% { text-shadow: 2px 0 var(--blue), -2px 0 var(--purple); transform: translate(0); }
  }

  /* 배경 섬광 */
  .flash {
    position: absolute; inset: 0;
    mix-blend-mode: color-dodge;
    animation: flash-anim 0.4s ease-out forwards;
  }

  @keyframes flash-anim {
    0% { background: var(--purple); opacity: 0.8; }
    100% { background: transparent; opacity: 0; }
  }

  #ending { 
    display: none; position: absolute; bottom: 10vh;
    text-align: center;
  }
  #ending h3 { font-size: clamp(2rem, 10vw, 4rem); margin: 5px 0; color: #fff; }

  #guide { 
    position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; 
    background: white; z-index: 1000; cursor: pointer; text-align: center;
    font-family: monospace; font-weight: bold; padding: 20px;
  }
</style>
</head>
<body onclick="startPerformance()">

<div id="fx-layer"></div>
<div id="guide">SYSTEM ERROR: 404<br><br>[ TAP TO RECONNECT ]</div>

<div id="wrapper">
  <h1 id="status-title">404 Not Found</h1>
  
  <div id="lyrics-display"></div>

  <div id="ending">
    <h2 style="color: var(--pink); letter-spacing: 10px; font-size: 0.9rem;">ARTIST</h2>
    <h3>KIIKIII</h3>
    <p style="letter-spacing: 4px; opacity: 0.5; font-size: 0.8rem;">404 NEW ERA RECONNECTED</p>
  </div>
</div>

<script>
const lyricsData = [
 "404, not found in the system",
 "404, the new era, era",
 "404, 좌표 밖의 지점",
 "404, the new era, era",
 "404, 백지를 내도 백 점",
 "404, 안 떠 radar, radar",
 "404, not found in the system",
 "404, THE NEW ERA, ERA"
];

const colors = ['var(--cyan)', 'var(--pink)', 'var(--purple)', '#fff'];

let isStarted = false;
const audio = new Audio("404.mp3");

function startPerformance() {
  if (isStarted) return;
  isStarted = true;
  
  const guide = document.getElementById('guide');
  guide.style.opacity = '0';
  setTimeout(() => guide.style.display = 'none', 800);
  
  audio.play();

  setTimeout(() => {
    document.getElementById('k-font').href = "https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Noto+Sans+KR:wght@900&display=swap";
    document.body.classList.add('dark');
    document.getElementById('status-title').textContent = "[ STATUS: RECONNECTING ]";
    runLyrics();
  }, 2000);
}

function runLyrics() {
  let index = 0;
  const display = document.getElementById('lyrics-display');
  const fxLayer = document.getElementById('fx-layer');

  const timer = setInterval(() => {
    if (index >= lyricsData.length) {
      clearInterval(timer);
      setTimeout(showFinalEnding, 1000);
      return;
    }

    // 새로운 가사 엘리먼트 생성 (매번 교체)
    display.innerHTML = ''; 
    const line = document.createElement('div');
    line.className = 'line active-glitch';
    line.style.color = colors[index % colors.length];
    line.textContent = lyricsData[index];
    display.appendChild(line);

    // 배경 섬광 효과
    const flash = document.createElement('div');
    flash.className = 'flash';
    fxLayer.appendChild(flash);
    setTimeout(() => flash.remove(), 400);

    index++;
  }, 1850);
}

function showFinalEnding() {
  document.getElementById('lyrics-display').style.display = 'none';
  const ending = document.getElementById('ending');
  ending.style.display = 'block';
  document.getElementById('status-title').textContent = "[ RECONNECTION COMPLETE ]";
}
</script>
</body>
</html>